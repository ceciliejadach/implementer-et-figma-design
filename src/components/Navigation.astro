---
import Button from "./Button.astro";
---

<section>
  <nav class="full-bleed">
    <h5><a href="/">AskExperts</a></h5>
    <div>
      <ul class="desktop-nav">
        <li><a href="/">Home</a></li>
        <li><a href="/casestudy">Case Study</a></li>
        <li><a href="/team">Team</a></li>
        <li><a href="/about">About</a></li>
      </ul>
    </div>
    <button popovertarget="popup">Login</button>
    <!-- <Button popovertarget="popup" variant="tertiary" text="Login" /> -->
  </nav>
  <div popover id="popup">
    <h2>Dashboard Login</h2>
    <form action="popup">
      <input type="email" placeholder="Enter Email" id="email" />
      <input type="password" placeholder="Enter Password" id="password" />
      <Button variant="tertiary" text="Go to dashboard"><input type="submit" /></Button>
    </form>
  </div>
</section>

<style>
  @layer components {
    [popover] {
      opacity: 0;
      translate: 0 -100%;
      background: var(--black);
      padding: 2.5rem 3.75rem 3.75rem 3.75rem;
      display: grid;
      gap: var(--fluid-18-35);
      border-radius: 1.875rem;
      z-index: -1;

      transition: 0.6s;
      transition-property: opacity, display, translate;
      transition-behavior: allow-discrete;

      &:popover-open {
        @starting-style {
          opacity: 0;
          translate: 0 100%;
        }

        opacity: 1;
        translate: 0 0;
      }

      h2 {
        color: var(--white);
        text-align: center;
      }

      form {
        display: grid;
        gap: 1.875rem;

        input {
          background: var(--white);
          padding: 1rem 2.0625rem;
          border-radius: 3.375rem;
          border: 1px solid #e3e3e3;
        }

        & > :last-child {
          width: fit-content;
          justify-self: center;
        }
      }
    }
    [popover]::backdrop {
      background: var(--black);
      opacity: 50%;
      backdrop-filter: blur(50px);
    }

    section {
      position: sticky;
      top: 0;
      z-index: 10;
    }

    nav {
      display: flex;
      align-items: center;
      background: var(--navigation);
      justify-content: space-evenly;
      padding: 1.375rem;

      h5 a {
        text-decoration: none;
        color: var(--white);
      }
      ul {
        display: flex;
      }

      ul li {
        list-style: none;
      }

      ul li a {
        text-decoration: none;
        color: var(--white);
        padding-right: 30px;
      }

      button {
        padding: 4px 16px;
        border-radius: 20px;
        transition:
          background-color 0.2s,
          color 0.2s;
        font-size: var(--body);
        outline: none;
        border: none;
        cursor: pointer;
        white-space: nowrap;
        background: var(--yellow);
        color: var(--black);
      }

      button:hover {
        background: var(--black);
        color: var(--white);
      }
    }
    #mobile-nav {
      display: none;
    }

    @media (width < 610px) {
      .desktop-nav {
        display: none;
      }

      [popover] {
        padding: 1.5rem;
      }
    }
  }
</style>
