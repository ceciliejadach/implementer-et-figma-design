---
import "../styles/global.css";
import Button from "./Button.astro";
---

<section class="full-bleed">
  <div class="wrapper">
    <div>
      <h4>Subscribe Our Newsletter</h4>
      <p>Build stronger Customer Relationships with Consultalk</p>
    </div>
    <div class="flex">
      <input type="email" placeholder="your mail address" />
      <Button variant="tertiary" text="Subscribe" />
    </div>
  </div>
</section>

<style>
  @layer components {
    :root {
      --square-pattern: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="red"><path d="M7.47662 4.02206C6.50635 3.05178 5.53232 2.07774 4.56205 1.10745C4.28482 0.83023 3.80905 0.83023 3.53183 1.10745C2.56155 2.07774 1.59128 3.04803 0.621002 4.02206C0.343781 4.29929 0.343781 4.77506 0.621002 5.05229C1.59128 6.02258 2.5653 6.99661 3.53558 7.9669C3.8128 8.24412 4.28857 8.24412 4.56579 7.9669C5.53607 6.99661 6.51009 6.02258 7.48037 5.05229C7.63022 4.90244 7.69016 4.73011 7.69016 4.56527C7.69016 4.55403 7.69016 4.54654 7.69016 4.5353C7.69016 4.52781 7.69016 4.51657 7.69016 4.50908C7.69016 4.34424 7.63022 4.17191 7.47662 4.02206ZM4.04881 6.41968C3.41944 5.79031 2.79382 5.16468 2.16445 4.5353C2.79382 3.90593 3.41944 3.2803 4.04881 2.65092C4.67818 3.2803 5.3038 3.90593 5.93317 4.5353C5.3038 5.16468 4.67818 5.79031 4.04881 6.41968Z"/></svg>');
    }

    section {
      /* inline-size: min(600px, 100% - 1rem); */
      margin-block-end: 5rem;

      .wrapper {
        padding: 4rem 2rem;
        color: #fff;
        border-radius: 10px;
        background: #181818;
        overflow: clip;
        position: relative;
        isolation: isolate;
        margin-inline: auto;

        &::before {
          --square-count: 12;
          --square-size: 1rem;

          --_square-size: var(--square-size, 1rem);
          --_square-half: calc(var(--square-size) / 2);
          --_square-sum: calc(var(--square-count) * var(--square-size));
          z-index: -1;
          content: "";
          position: absolute;
          right: 0;
          top: 0;
          transform-origin: 0 0;
          inline-size: calc(round(var(--_square-sum), var(--_square-size)) - var(--_square-half));
          aspect-ratio: 0.7;
          background: linear-gradient(135deg, #be965d, #976f40, #c99b61, #f0be7b, #ffcb85, #eebc79, #c0935b, #976f40) 0 0 / 100% 100%;
          mask:
            var(--square-pattern) 0 0 / var(--_square-size) var(--_square-size),
            var(--square-pattern) var(--_square-half) var(--_square-half) / var(--_square-size) var(--_square-size);
          /*clip-path: polygon(-3% 0%, 100% 0%, 100% 103%);*/
          rotate: -45deg;
        }

        &::after {
          content: "";
          height: 100%;
          width: 50%;
          border-radius: inherit;
          background: #4eaf4e;
          position: absolute;
          top: 50%;
          bottom: 0;
          right: 2rem;
          rotate: -45deg;
          transform-origin: right top;
          z-index: -1;
        }
      }

      & > :first-child {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;

        .flex {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }
      }

      input {
        background: var(--white);
        padding: 1rem 2.0625rem;
        border-radius: 3.375rem;
        border: 1px solid #e3e3e3;
      }
    }
    @media (width > 800px) {
      section {
        inline-size: min(1000px, 100% - 1rem);

        & > :first-child {
          flex-wrap: nowrap;
          align-items: center;
          justify-content: space-between;

          .flex {
            flex-direction: row;
          }
        }
      }
    }
  }
</style>
